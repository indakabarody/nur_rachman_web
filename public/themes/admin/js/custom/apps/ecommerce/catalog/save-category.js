(()=>{"use strict";var e,t=(e=function(){document.querySelectorAll('[data-kt-ecommerce-catalog-add-category="condition_type"]').forEach((function(e){$(e).hasClass("select2-hidden-accessible")||$(e).select2({minimumResultsForSearch:-1})})),document.querySelectorAll('[data-kt-ecommerce-catalog-add-category="condition_equals"]').forEach((function(e){$(e).hasClass("select2-hidden-accessible")||$(e).select2({minimumResultsForSearch:-1})}))},{init:function(){var t,a,o,c,n;["#kt_ecommerce_add_category_description","#kt_ecommerce_add_category_meta_description"].forEach((function(e){var t=document.querySelector(e);t&&(t=new Quill(e,{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:"Type your text here...",theme:"snow"}))})),["#kt_ecommerce_add_category_meta_keywords"].forEach((function(e){var t=document.querySelector(e);t&&new Tagify(t)})),$("#kt_ecommerce_add_category_conditions").repeater({initEmpty:!1,defaultValues:{"text-input":"foo"},show:function(){$(this).slideDown(),e()},hide:function(e){$(this).slideUp(e)}}),e(),function(){var e=document.getElementById("kt_ecommerce_add_category_status"),t=document.getElementById("kt_ecommerce_add_category_status_select"),a=["bg-success","bg-warning","bg-danger"];$(t).on("change",(function(t){switch(t.target.value){case"published":var o;(o=e.classList).remove.apply(o,a),e.classList.add("bg-success"),n();break;case"scheduled":var r;(r=e.classList).remove.apply(r,a),e.classList.add("bg-warning"),c();break;case"unpublished":var i;(i=e.classList).remove.apply(i,a),e.classList.add("bg-danger"),n()}}));var o=document.getElementById("kt_ecommerce_add_category_status_datepicker");$("#kt_ecommerce_add_category_status_datepicker").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i"});var c=function(){o.parentNode.classList.remove("d-none")},n=function(){o.parentNode.classList.add("d-none")}}(),t=document.querySelectorAll('[name="method"][type="radio"]'),a=document.querySelector('[data-kt-ecommerce-catalog-add-category="auto-options"]'),t.forEach((function(e){e.addEventListener("change",(function(e){"1"===e.target.value?a.classList.remove("d-none"):a.classList.add("d-none")}))})),c=document.getElementById("kt_ecommerce_add_category_form"),n=document.getElementById("kt_ecommerce_add_category_submit"),o=FormValidation.formValidation(c,{fields:{category_name:{validators:{notEmpty:{message:"Category name is required"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap:new FormValidation.plugins.Bootstrap5({rowSelector:".fv-row",eleInvalidClass:"",eleValidClass:""})}}),n.addEventListener("click",(function(e){e.preventDefault(),o&&o.validate().then((function(e){console.log("validated!"),"Valid"==e?(n.setAttribute("data-kt-indicator","on"),n.disabled=!0,setTimeout((function(){n.removeAttribute("data-kt-indicator"),Swal.fire({text:"Form has been successfully submitted!",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}}).then((function(e){e.isConfirmed&&(n.disabled=!1,window.location=c.getAttribute("data-kt-redirect"))}))}),2e3)):Swal.fire({text:"Sorry, looks like there are some errors detected, please try again.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn btn-primary"}})}))}))}});KTUtil.onDOMContentLoaded((function(){t.init()}))})();