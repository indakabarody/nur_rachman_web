(()=>{"use strict";var t,e,n,o,c,r,l,a=(c=function(){o.querySelectorAll('[data-kt-customer-table-filter="delete_row"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var n=e.target.closest("tr"),o=n.querySelectorAll("td")[1].innerText;Swal.fire({text:"Are you sure you want to delete "+o+"?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(e){e.value?Swal.fire({text:"You have deleted "+o+"!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){t.row($(n)).remove().draw()})):"cancel"===e.dismiss&&Swal.fire({text:o+" was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))}))},r=function(){var e=o.querySelectorAll('[type="checkbox"]'),n=document.querySelector('[data-kt-customer-table-select="delete_selected"]');e.forEach((function(t){t.addEventListener("click",(function(){setTimeout((function(){l()}),50)}))})),n.addEventListener("click",(function(){Swal.fire({text:"Are you sure you want to delete selected customers?",icon:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonText:"Yes, delete!",cancelButtonText:"No, cancel",customClass:{confirmButton:"btn fw-bold btn-danger",cancelButton:"btn fw-bold btn-active-light-primary"}}).then((function(n){n.value?Swal.fire({text:"You have deleted all selected customers!.",icon:"success",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}}).then((function(){e.forEach((function(e){e.checked&&t.row($(e.closest("tbody tr"))).remove().draw()})),o.querySelectorAll('[type="checkbox"]')[0].checked=!1})):"cancel"===n.dismiss&&Swal.fire({text:"Selected customers was not deleted.",icon:"error",buttonsStyling:!1,confirmButtonText:"Ok, got it!",customClass:{confirmButton:"btn fw-bold btn-primary"}})}))}))},l=function(){var t=document.querySelector('[data-kt-customer-table-toolbar="base"]'),e=document.querySelector('[data-kt-customer-table-toolbar="selected"]'),n=document.querySelector('[data-kt-customer-table-select="selected_count"]'),c=o.querySelectorAll('tbody [type="checkbox"]'),r=!1,l=0;c.forEach((function(t){t.checked&&(r=!0,l++)})),r?(n.innerHTML=l,t.classList.add("d-none"),e.classList.remove("d-none")):(t.classList.remove("d-none"),e.classList.add("d-none"))},{init:function(){(o=document.querySelector("#kt_customers_table"))&&(o.querySelectorAll("tbody tr").forEach((function(t){var e=t.querySelectorAll("td"),n=moment(e[5].innerHTML,"DD MMM YYYY, LT").format();e[5].setAttribute("data-order",n)})),(t=$(o).DataTable({info:!1,order:[],columnDefs:[{orderable:!1,targets:0},{orderable:!1,targets:6}]})).on("draw",(function(){r(),c(),l()})),r(),document.querySelector('[data-kt-customer-table-filter="search"]').addEventListener("keyup",(function(e){t.search(e.target.value).draw()})),e=$('[data-kt-customer-table-filter="month"]'),n=document.querySelectorAll('[data-kt-customer-table-filter="payment_type"] [name="payment_type"]'),document.querySelector('[data-kt-customer-table-filter="filter"]').addEventListener("click",(function(){var o=e.val(),c="";n.forEach((function(t){t.checked&&(c=t.value),"all"===c&&(c="")}));var r=o+" "+c;t.search(r).draw()})),c(),document.querySelector('[data-kt-customer-table-filter="reset"]').addEventListener("click",(function(){e.val(null).trigger("change"),n[0].checked=!0,t.search("").draw()})))}});KTUtil.onDOMContentLoaded((function(){a.init()}))})();